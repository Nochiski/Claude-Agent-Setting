{
  "permissions": {
    "allow": [
      "Bash(echo:*)",
      "Bash(cat:*)",
      "Bash(where:*)",
      "Bash(dir:*)",
      "Bash(npm:*)",
      "Bash(git:*)",
      "Bash(gh:*)",
      "Bash(claude:*)",
      "Bash(powershell:*)",
      "Bash(winget:*)",
      "Bash(rm:*)",
      "Bash(ls:*)",
      "Bash(ast-grep:*)",
      "WebSearch",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:api.github.com)",
      "WebFetch(domain:news.hada.io)",
      "Read(**)",
      "Glob(**)",
      "Grep(**)",
      "Bash(bash:*)",
      "mcp__ast-grep__*",
      "Bash(./install.sh)",
      "Bash(tree:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst path = ''C:/Users/USER/.claude/settings.json'';\nlet content = fs.readFileSync\\(path, ''utf8''\\);\ncontent = content.replace\\(/\"\"figma\"\": \\\\{\\\\s*\"\"command\"\": \"\"npx\"\"/g, ''\"\"figma\"\": {\\\\n      \"\"command\"\": \"\"cmd\"\"''\\);\nfs.writeFileSync\\(path, content\\);\nconsole.log\\(''Fixed figma command''\\);\n\")",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst path = ''C:/Users/USER/.claude/settings.json'';\nlet content = fs.readFileSync\\(path, ''utf8''\\);\n\n// Fix paths: /c/Users/USER/ -> C:/Users/USER/\ncontent = content.replace\\(/\"\"\\\\/c\\\\/Users\\\\/USER\\\\//g, ''\"\"C:/Users/USER/''\\);\n\n// Fix figma command: npx with /c arg -> cmd with /c arg\nconst data = JSON.parse\\(content\\);\nif \\(data.mcpServers && data.mcpServers.figma\\) {\n  if \\(data.mcpServers.figma.command === ''npx'' && \n      data.mcpServers.figma.args && \n      data.mcpServers.figma.args[0] === ''/c''\\) {\n    data.mcpServers.figma.command = ''cmd'';\n  }\n}\n\nfs.writeFileSync\\(path, JSON.stringify\\(data, null, 2\\)\\);\nconsole.log\\(''Settings fixed successfully''\\);\n\")"
    ]
  },
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\orchestrator\\keyword-detector.js\""
          },
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\utils\\rules-injector.js\""
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\quality\\pre-commit-test.js\""
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\monitoring\\agent-logger.js\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\quality\\auto-format.js\""
          },
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\utils\\readme-reminder.js\""
          },
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\quality\\edit-recovery.js\""
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\utils\\empty-response.js\""
          },
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\monitoring\\agent-logger.js\""
          }
        ]
      },
      {
        "matcher": "Edit|Write|Task",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\pipeline\\tracker.js\""
          }
        ]
      },
      {
        "matcher": "Glob|Grep|Read|Edit|Write|Task",
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\monitoring\\context-monitor.js\""
          },
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\utils\\agent-reminder.js\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\hooks\\orchestrator\\stop-orchestrator.js\""
          }
        ]
      }
    ]
  },
  "mcpServers": {
    "context7": {
      "command": "npx",
      "args": [
        "-y",
        "@upstash/context7-mcp@latest"
      ]
    },
    "figma": {
      "command": "cmd",
      "args": [
        "/c",
        "npx",
        "-y",
        "figma-developer-mcp",
        "--stdio"
      ],
      "env": {
        "FIGMA_API_KEY": "${FIGMA_API_KEY}"
      }
    },
    "github": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-github"
      ],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${GITHUB_PERSONAL_ACCESS_TOKEN}"
      }
    },
    "ast-grep": {
      "command": "uvx",
      "args": [
        "--from",
        "git+https://github.com/ast-grep/ast-grep-mcp",
        "ast-grep-mcp"
      ]
    }
  }
}
